---
title: Data Models
description: FIWARE-compliant data models used in UrbanReflex
---

import { InfoCard } from "@/components/docs/InfoCard";

<div className="mb-12 relative overflow-hidden">
  <div className="absolute -inset-4 bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500 rounded-[2rem] blur-3xl opacity-20 animate-pulse-slow"></div>
  
  <div className="relative bg-gradient-to-br from-white/95 via-white/90 to-white/95 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/95 backdrop-blur-2xl border-2 border-slate-200/50 dark:border-slate-700/50 rounded-3xl p-10 md:p-12 shadow-2xl">
    <div className="absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.02)_1px,transparent_1px)] dark:bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px] rounded-3xl"></div>
    
    <div className="relative">
      <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-violet-500/10 via-purple-500/10 to-pink-500/10 border border-violet-500/20 mb-6 shadow-lg">
        <svg className="w-4 h-4 text-violet-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
        </svg>
        <span className="text-sm font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 bg-clip-text text-transparent">
          FIWARE ‚Ä¢ NGSI-LD ‚Ä¢ Smart Data Models
        </span>
      </div>

      <h1 className="text-4xl md:text-5xl lg:text-6xl font-black mb-4 leading-tight" style={{
        background: 'linear-gradient(135deg, rgb(139, 92, 246) 0%, rgb(168, 85, 247) 50%, rgb(236, 72, 153) 100%)',
        WebkitBackgroundClip: 'text',
        WebkitTextFillColor: 'transparent',
        backgroundClip: 'text',
        letterSpacing: '-0.02em'
      }}>
        Data Models
      </h1>

      <div className="text-lg md:text-xl text-slate-600 dark:text-slate-400 leading-relaxed">
        UrbanReflex uses <strong className="text-slate-900 dark:text-white">FIWARE Smart Data Models</strong> to ensure <strong className="text-violet-600 dark:text-violet-400">interoperability</strong> and <strong className="text-purple-600 dark:text-purple-400">standardization</strong>. All entities follow <strong className="text-pink-600 dark:text-pink-400">NGSI-LD format</strong>.
      </div>
    </div>

  </div>
</div>

## üìä Overview

<div className="not-prose my-8">
  <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl mb-3">üå§Ô∏è</div>
        <div className="text-xl font-black text-slate-900 dark:text-white mb-2">WeatherObserved</div>
        <div className="space-y-2 text-sm text-slate-600 dark:text-slate-400">
          <div className="flex justify-between">
            <span>Fields:</span>
            <strong className="text-blue-600 dark:text-blue-400">7+</strong>
          </div>
          <div className="flex justify-between">
            <span>Update:</span>
            <strong className="text-cyan-600 dark:text-cyan-400">10 min</strong>
          </div>
        </div>
      </div>
    </div>

    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl mb-3">üå¨Ô∏è</div>
        <div className="text-xl font-black text-slate-900 dark:text-white mb-2">AirQualityObserved</div>
        <div className="space-y-2 text-sm text-slate-600 dark:text-slate-400">
          <div className="flex justify-between">
            <span>Pollutants:</span>
            <strong className="text-emerald-600 dark:text-emerald-400">7</strong>
          </div>
          <div className="flex justify-between">
            <span>Update:</span>
            <strong className="text-teal-600 dark:text-teal-400">15 min</strong>
          </div>
        </div>
      </div>
    </div>

    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl mb-3">üí°</div>
        <div className="text-xl font-black text-slate-900 dark:text-white mb-2">Streetlight</div>
        <div className="space-y-2 text-sm text-slate-600 dark:text-slate-400">
          <div className="flex justify-between">
            <span>Status:</span>
            <strong className="text-violet-600 dark:text-violet-400">On/Off</strong>
          </div>
          <div className="flex justify-between">
            <span>Update:</span>
            <strong className="text-purple-600 dark:text-purple-400">Real-time</strong>
          </div>
        </div>
      </div>
    </div>

    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-pink-500 to-rose-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl mb-3">üì¢</div>
        <div className="text-xl font-black text-slate-900 dark:text-white mb-2">CitizenReport</div>
        <div className="space-y-2 text-sm text-slate-600 dark:text-slate-400">
          <div className="flex justify-between">
            <span>Type:</span>
            <strong className="text-pink-600 dark:text-pink-400">Custom</strong>
          </div>
          <div className="flex justify-between">
            <span>Update:</span>
            <strong className="text-rose-600 dark:text-rose-400">On submit</strong>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

## üå§Ô∏è WeatherObserved

<InfoCard type="info" title="FIWARE Standard">
  Based on [FIWARE
  WeatherObserved](https://github.com/smart-data-models/dataModel.Weather/blob/master/WeatherObserved/doc/spec.md)
  specification.
</InfoCard>

### TypeScript Interface

```typescript
interface WeatherObserved {
  id: string; // Unique identifier
  type: "WeatherObserved"; // Entity type
  dateObserved: DateTime; // Observation timestamp
  location: GeoJSON.Point; // Geographic coordinates
  temperature: number; // Celsius
  humidity: number; // Percentage (0-100)
  windSpeed: number; // km/h
  windDirection: number; // Degrees (0-360)
  precipitation: number; // mm
  atmosphericPressure: number; // hPa
  dewPoint?: number; // Celsius
}
```

### Example Entity

```json
{
  "id": "urn:ngsi-ld:WeatherObserved:HCMC:2024-01-15",
  "type": "WeatherObserved",
  "dateObserved": {
    "type": "DateTime",
    "value": "2024-01-15T14:30:00Z"
  },
  "location": {
    "type": "geo:json",
    "value": {
      "type": "Point",
      "coordinates": [106.6297, 10.8231]
    }
  },
  "temperature": {
    "type": "Number",
    "value": 32.5,
    "metadata": { "unitCode": { "value": "CEL" } }
  },
  "humidity": {
    "type": "Number",
    "value": 78,
    "metadata": { "unitCode": { "value": "P1" } }
  },
  "windSpeed": {
    "type": "Number",
    "value": 12.5,
    "metadata": { "unitCode": { "value": "KMH" } }
  }
}
```

### Data Source

<div className="not-prose grid md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-xl bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800/30">
    <div className="font-bold text-blue-900 dark:text-blue-100 mb-2">
      Provider
    </div>
    <div className="text-sm text-slate-600 dark:text-slate-400">
      OpenWeatherMap API
    </div>
  </div>
  <div className="p-5 rounded-xl bg-cyan-50 dark:bg-cyan-950/20 border border-cyan-200 dark:border-cyan-800/30">
    <div className="font-bold text-cyan-900 dark:text-cyan-100 mb-2">
      Coverage
    </div>
    <div className="text-sm text-slate-600 dark:text-slate-400">
      City-wide (single observation)
    </div>
  </div>
  <div className="p-5 rounded-xl bg-violet-50 dark:bg-violet-950/20 border border-violet-200 dark:border-violet-800/30">
    <div className="font-bold text-violet-900 dark:text-violet-100 mb-2">
      Frequency
    </div>
    <div className="text-sm text-slate-600 dark:text-slate-400">
      Updates every 10 minutes
    </div>
  </div>
  <div className="p-5 rounded-xl bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800/30">
    <div className="font-bold text-purple-900 dark:text-purple-100 mb-2">
      Accuracy
    </div>
    <div className="text-sm text-slate-600 dark:text-slate-400">
      ¬±0.5¬∞C temperature, ¬±3% humidity
    </div>
  </div>
</div>

## üå¨Ô∏è AirQualityObserved

<InfoCard type="info" title="FIWARE Standard">
  Based on [FIWARE
  AirQualityObserved](https://github.com/smart-data-models/dataModel.Environment/blob/master/AirQualityObserved/doc/spec.md)
  specification.
</InfoCard>

### TypeScript Interface

```typescript
interface AirQualityObserved {
  id: string;
  type: "AirQualityObserved";
  dateObserved: DateTime;
  location: GeoJSON.Point;
  address?: Address;
  pm25: number; // Œºg/m¬≥
  pm10: number; // Œºg/m¬≥
  co: number; // mg/m¬≥
  no2: number; // Œºg/m¬≥
  o3: number; // Œºg/m¬≥
  so2: number; // Œºg/m¬≥
  aqi?: number; // Air Quality Index (0-500)
  category?: "Good" | "Moderate" | "Unhealthy" | "Hazardous";
}
```

### AQI Categories

<div className="not-prose my-8">
  <div className="space-y-3">
    <div className="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/30">
      <div className="w-24 text-center">
        <div className="text-2xl font-black text-green-600 dark:text-green-400">0-50</div>
      </div>
      <div className="flex-1">
        <div className="font-bold text-green-900 dark:text-green-100">Good</div>
        <div className="text-sm text-slate-600 dark:text-slate-400">Minimal impact</div>
      </div>
    </div>

    <div className="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-950/20 dark:to-amber-950/20 border border-yellow-200 dark:border-yellow-800/30">
      <div className="w-24 text-center">
        <div className="text-2xl font-black text-yellow-600 dark:text-yellow-400">51-100</div>
      </div>
      <div className="flex-1">
        <div className="font-bold text-yellow-900 dark:text-yellow-100">Moderate</div>
        <div className="text-sm text-slate-600 dark:text-slate-400">Acceptable for most</div>
      </div>
    </div>

    <div className="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 border border-orange-200 dark:border-orange-800/30">
      <div className="w-24 text-center">
        <div className="text-2xl font-black text-orange-600 dark:text-orange-400">101-150</div>
      </div>
      <div className="flex-1">
        <div className="font-bold text-orange-900 dark:text-orange-100">Unhealthy for Sensitive</div>
        <div className="text-sm text-slate-600 dark:text-slate-400">Sensitive groups may experience effects</div>
      </div>
    </div>

    <div className="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950/20 dark:to-rose-950/20 border border-red-200 dark:border-red-800/30">
      <div className="w-24 text-center">
        <div className="text-2xl font-black text-red-600 dark:text-red-400">151-200</div>
      </div>
      <div className="flex-1">
        <div className="font-bold text-red-900 dark:text-red-100">Unhealthy</div>
        <div className="text-sm text-slate-600 dark:text-slate-400">Everyone may begin to experience effects</div>
      </div>
    </div>

    <div className="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-950/20 dark:to-violet-950/20 border border-purple-200 dark:border-purple-800/30">
      <div className="w-24 text-center">
        <div className="text-2xl font-black text-purple-600 dark:text-purple-400">201+</div>
      </div>
      <div className="flex-1">
        <div className="font-bold text-purple-900 dark:text-purple-100">Hazardous</div>
        <div className="text-sm text-slate-600 dark:text-slate-400">Emergency conditions</div>
      </div>
    </div>

  </div>
</div>

## üí° Streetlight

<InfoCard type="info" title="FIWARE Standard">
  Based on [FIWARE
  Streetlight](https://github.com/smart-data-models/dataModel.Streetlighting/blob/master/Streetlight/doc/spec.md)
  specification.
</InfoCard>

### TypeScript Interface

```typescript
interface Streetlight {
  id: string;
  type: "Streetlight";
  location: GeoJSON.Point;
  status: "ok" | "defective" | "brokenLantern";
  powerState: "on" | "off" | "low";
  dateLastSwitchingOn?: DateTime;
  dateLastSwitchingOff?: DateTime;
  controllingMethod?: "individual" | "group" | "astronomical";
  roadSegment?: string;
  district?: string;
}
```

## üì¢ CitizenReport

Custom data model for community engagement.

### TypeScript Interface

```typescript
interface CitizenReport {
  id: string;
  type: "CitizenReport";
  dateSubmitted: DateTime;
  category: "infrastructure" | "environment" | "safety" | "other";
  description: string;
  location: GeoJSON.Point;
  urgency: "low" | "medium" | "high";
  status: "pending" | "in-progress" | "resolved" | "rejected";
  attachments?: string[]; // Image URLs
  upvotes?: number;
}
```

## üîó FIWARE Integration

<div className="my-8 p-8 rounded-3xl bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/20 dark:to-purple-950/20 border-2 border-violet-200/50 dark:border-violet-800/30">
  <div className="text-2xl font-black text-slate-900 dark:text-white mb-4">Orion-LD Context Broker</div>
  <div className="text-slate-600 dark:text-slate-400 mb-6">
    UrbanReflex can integrate with any <strong className="text-violet-600 dark:text-violet-400">FIWARE Context Broker</strong> using NGSI-LD protocol:
  </div>

```bash
# Query entities via NGSI-LD
curl -X GET 'http://localhost:1026/ngsi-ld/v1/entities?type=WeatherObserved' \
  -H 'Accept: application/ld+json' \
  -H 'Link: <https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld>'
```

</div>

---

<div className="mt-12 p-8 rounded-3xl bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 border-2 border-blue-200/50 dark:border-blue-800/30">
  <div className="text-center">
    <div className="text-2xl font-black text-slate-900 dark:text-white mb-3">
      Learn More
    </div>
    <div className="text-slate-600 dark:text-slate-400">
      For implementation details, see our{" "}
      <a
        href="/docs/api"
        className="text-blue-600 dark:text-blue-400 font-bold hover:underline"
      >
        API Reference
      </a>
    </div>
  </div>
</div>
