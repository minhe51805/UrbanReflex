---
title: API Reference
description: Complete API documentation for UrbanReflex
---

import { InfoCard } from "@/components/docs/InfoCard";

<div className="mb-12 relative overflow-hidden">
  <div className="absolute -inset-4 bg-gradient-to-r from-blue-500 via-cyan-500 to-violet-500 rounded-[2rem] blur-3xl opacity-20 animate-pulse-slow"></div>
  
  <div className="relative bg-gradient-to-br from-white/95 via-white/90 to-white/95 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/95 backdrop-blur-2xl border-2 border-slate-200/50 dark:border-slate-700/50 rounded-3xl p-10 md:p-12 shadow-2xl">
    <div className="absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.02)_1px,transparent_1px)] dark:bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px] rounded-3xl"></div>
    
    <div className="relative">
      <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/10 via-cyan-500/10 to-violet-500/10 border border-blue-500/20 mb-6 shadow-lg">
        <svg className="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
        </svg>
        <span className="text-sm font-bold bg-gradient-to-r from-blue-600 via-cyan-600 to-violet-600 bg-clip-text text-transparent">
          RESTful API ‚Ä¢ FIWARE Compliant ‚Ä¢ Real-time
        </span>
      </div>

      <h1 className="text-4xl md:text-5xl lg:text-6xl font-black mb-4 leading-tight" style={{
        background: 'linear-gradient(135deg, rgb(59, 130, 246) 0%, rgb(6, 182, 212) 50%, rgb(139, 92, 246) 100%)',
        WebkitBackgroundClip: 'text',
        WebkitTextFillColor: 'transparent',
        backgroundClip: 'text',
        letterSpacing: '-0.02em'
      }}>
        API Reference
      </h1>

      <div className="text-lg md:text-xl text-slate-600 dark:text-slate-400 mb-6 leading-relaxed">
        UrbanReflex exposes <strong className="text-slate-900 dark:text-white">RESTful APIs</strong> for accessing all urban monitoring data. All endpoints return <strong className="text-blue-600 dark:text-blue-400">JSON responses</strong> following FIWARE data models.
      </div>

      <div className="flex flex-wrap gap-3">
        <div className="px-4 py-2 rounded-xl bg-blue-500/10 border border-blue-500/20 text-blue-700 dark:text-blue-300 font-bold text-sm">
          üîê JWT Authentication
        </div>
        <div className="px-4 py-2 rounded-xl bg-green-500/10 border border-green-500/20 text-green-700 dark:text-green-300 font-bold text-sm">
          ‚ö° Rate Limiting
        </div>
        <div className="px-4 py-2 rounded-xl bg-purple-500/10 border border-purple-500/20 text-purple-700 dark:text-purple-300 font-bold text-sm">
          üì° WebSocket Support
        </div>
      </div>
    </div>

  </div>
</div>

## üåê Base URL

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 border-2 border-slate-200/50 dark:border-slate-700/50">
      <code className="text-lg font-bold text-blue-600 dark:text-blue-400">
        https://api.urbanreflex.vn/v1
      </code>
    </div>
  </div>
</div>

## üîê Authentication

<InfoCard type="warning" title="API Key Required">
  All API requests require an API key passed in the **Authorization** header.
  Get your free API key by signing up.
</InfoCard>

```bash
Authorization: Bearer YOUR_API_KEY
```

## üå§Ô∏è Weather API

### Get Current Weather

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-blue-500 text-white font-bold text-sm">
          GET
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /weather/current
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400">
        Retrieve current weather conditions for Ho Chi Minh City
      </div>
    </div>
  </div>
</div>

**Response:**

```json
{
  "id": "WeatherObserved:HCMC:2024",
  "type": "WeatherObserved",
  "location": {
    "type": "Point",
    "coordinates": [106.6297, 10.8231]
  },
  "temperature": 32.5,
  "humidity": 78,
  "windSpeed": 12.5,
  "windDirection": 135,
  "precipitation": 0,
  "pressure": 1013,
  "dewPoint": 27.8,
  "dateObserved": "2024-01-15T14:30:00Z"
}
```

### Get Weather Forecast

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-cyan-500 text-white font-bold text-sm">
          GET
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /weather/forecast
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
        Get 5-day weather forecast
      </div>
      <div className="space-y-2">
        <div className="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase">
          Query Parameters
        </div>
        <div className="flex items-center gap-3">
          <code className="text-sm px-2 py-1 rounded bg-slate-100 dark:bg-slate-800 text-cyan-600 dark:text-cyan-400 font-semibold">
            days
          </code>
          <span className="text-sm text-slate-600 dark:text-slate-400">
            (optional) Number of days (1-7, default: 5)
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

## üå¨Ô∏è Air Quality API

### Get Current AQI

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-emerald-500 text-white font-bold text-sm">
          GET
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /airquality/current
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
        Retrieve current air quality measurements
      </div>
      <div className="space-y-2">
        <div className="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase">
          Query Parameters
        </div>
        <div className="flex items-center gap-3">
          <code className="text-sm px-2 py-1 rounded bg-slate-100 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400 font-semibold">
            region
          </code>
          <span className="text-sm text-slate-600 dark:text-slate-400">
            (optional) District code (e.g., "D1", "D3")
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

**Response:**

```json
{
  "id": "AirQualityObserved:HCMC:D1:2024",
  "type": "AirQualityObserved",
  "location": {
    "type": "Point",
    "coordinates": [106.6995, 10.7769]
  },
  "pm25": 35.2,
  "pm10": 52.8,
  "co": 0.8,
  "no2": 25.6,
  "o3": 48.3,
  "so2": 12.1,
  "aqi": 68,
  "category": "Moderate",
  "dateObserved": "2024-01-15T14:30:00Z"
}
```

## üí° Streetlight API

### List Streetlights

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-violet-500 to-purple-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-violet-500 text-white font-bold text-sm">
          GET
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /streetlights
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
        Get all streetlights with their status
      </div>
      <div className="space-y-2">
        <div className="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase">
          Query Parameters
        </div>
        <div className="grid gap-2">
          <div className="flex items-center gap-3">
            <code className="text-sm px-2 py-1 rounded bg-slate-100 dark:bg-slate-800 text-violet-600 dark:text-violet-400 font-semibold">
              status
            </code>
            <span className="text-sm text-slate-600 dark:text-slate-400">
              (optional) Filter by status ("on", "off", "faulty")
            </span>
          </div>
          <div className="flex items-center gap-3">
            <code className="text-sm px-2 py-1 rounded bg-slate-100 dark:bg-slate-800 text-violet-600 dark:text-violet-400 font-semibold">
              segment
            </code>
            <span className="text-sm text-slate-600 dark:text-slate-400">
              (optional) Road segment ID
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

### Update Streetlight

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-purple-500 text-white font-bold text-sm">
          PATCH
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /streetlights/:id
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400">
        Toggle streetlight on/off
      </div>
    </div>
  </div>
</div>

**Request Body:**

```json
{
  "powerState": "on"
}
```

## üì¢ Citizen Reports API

### Submit Report

<div className="not-prose my-6">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-[1.01]">
    <div className="absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="flex items-center gap-4 mb-4">
        <div className="px-3 py-1 rounded-lg bg-pink-500 text-white font-bold text-sm">
          POST
        </div>
        <code className="text-base font-semibold text-slate-900 dark:text-white">
          /reports
        </code>
      </div>
      <div className="text-sm text-slate-600 dark:text-slate-400">
        Create a new citizen report
      </div>
    </div>
  </div>
</div>

**Request Body:**

```json
{
  "category": "infrastructure",
  "description": "Broken streetlight on Nguyen Hue",
  "location": {
    "type": "Point",
    "coordinates": [106.6297, 10.8231]
  },
  "urgency": "medium"
}
```

## ‚ö° Rate Limits

<div className="not-prose my-8">
  <div className="grid md:grid-cols-3 gap-4">
    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl font-black text-green-600 dark:text-green-400 mb-2">
          Free
        </div>
        <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
          Perfect for testing
        </div>
        <div className="text-2xl font-bold text-slate-900 dark:text-white mb-1">
          100
        </div>
        <div className="text-xs font-semibold text-slate-500 dark:text-slate-400">
          requests/hour
        </div>
        <div className="mt-4 pt-4 border-t border-slate-200 dark:border-slate-700">
          <div className="text-2xl font-black text-slate-900 dark:text-white">
            $0
          </div>
        </div>
      </div>
    </div>

    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-blue-500 to-violet-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-blue-500/30 dark:border-blue-700/30 shadow-lg shadow-blue-500/20">
        <div className="inline-flex px-2 py-1 rounded-full bg-blue-500 text-white text-xs font-bold mb-2">
          POPULAR
        </div>
        <div className="text-3xl font-black text-blue-600 dark:text-blue-400 mb-2">
          Developer
        </div>
        <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
          For production apps
        </div>
        <div className="text-2xl font-bold text-slate-900 dark:text-white mb-1">
          10,000
        </div>
        <div className="text-xs font-semibold text-slate-500 dark:text-slate-400">
          requests/hour
        </div>
        <div className="mt-4 pt-4 border-t border-slate-200 dark:border-slate-700">
          <div className="text-2xl font-black text-slate-900 dark:text-white">
            $29
            <span className="text-sm font-normal text-slate-500">/month</span>
          </div>
        </div>
      </div>
    </div>

    <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
      <div className="absolute -inset-0.5 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
      <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
        <div className="text-3xl font-black text-purple-600 dark:text-purple-400 mb-2">
          Enterprise
        </div>
        <div className="text-sm text-slate-600 dark:text-slate-400 mb-4">
          For large scale
        </div>
        <div className="text-2xl font-bold text-slate-900 dark:text-white mb-1">
          Unlimited
        </div>
        <div className="text-xs font-semibold text-slate-500 dark:text-slate-400">
          requests/hour
        </div>
        <div className="mt-4 pt-4 border-t border-slate-200 dark:border-slate-700">
          <div className="text-2xl font-black text-slate-900 dark:text-white">
            Custom
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

## üö® Error Handling

All errors follow a consistent format:

```json
{
  "error": {
    "code": "INVALID_REQUEST",
    "message": "Missing required parameter: location",
    "details": {}
  }
}
```

### Common Error Codes

<div className="grid md:grid-cols-2 gap-4 my-6">
  <div className="p-4 rounded-xl bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800/30">
    <code className="text-sm font-bold text-red-600 dark:text-red-400">
      INVALID_REQUEST
    </code>
    <div className="text-sm text-slate-600 dark:text-slate-400 mt-1">
      Malformed request
    </div>
  </div>
  <div className="p-4 rounded-xl bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800/30">
    <code className="text-sm font-bold text-orange-600 dark:text-orange-400">
      UNAUTHORIZED
    </code>
    <div className="text-sm text-slate-600 dark:text-slate-400 mt-1">
      Invalid API key
    </div>
  </div>
  <div className="p-4 rounded-xl bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800/30">
    <code className="text-sm font-bold text-yellow-600 dark:text-yellow-400">
      RATE_LIMIT_EXCEEDED
    </code>
    <div className="text-sm text-slate-600 dark:text-slate-400 mt-1">
      Too many requests
    </div>
  </div>
  <div className="p-4 rounded-xl bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800/30">
    <code className="text-sm font-bold text-purple-600 dark:text-purple-400">
      NOT_FOUND
    </code>
    <div className="text-sm text-slate-600 dark:text-slate-400 mt-1">
      Resource doesn't exist
    </div>
  </div>
</div>

## üìö SDK Libraries

<div className="grid md:grid-cols-3 gap-4 my-8">
  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
    <div className="absolute -inset-0.5 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="text-4xl mb-3">üì¶</div>
      <div className="text-xl font-black text-slate-900 dark:text-white mb-2">
        JavaScript
      </div>
      <code className="text-sm text-blue-600 dark:text-blue-400">
        npm install @urbanreflex/sdk
      </code>
    </div>
  </div>

  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
    <div className="absolute -inset-0.5 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="text-4xl mb-3">üêç</div>
      <div className="text-xl font-black text-slate-900 dark:text-white mb-2">
        Python
      </div>
      <code className="text-sm text-blue-600 dark:text-blue-400">
        pip install urbanreflex
      </code>
    </div>
  </div>

  <div className="group relative overflow-hidden rounded-2xl transition-all hover:scale-105">
    <div className="absolute -inset-0.5 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-2xl blur-lg opacity-0 group-hover:opacity-30 transition-opacity"></div>
    <div className="relative p-6 rounded-2xl bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border-2 border-slate-200/50 dark:border-slate-700/50">
      <div className="text-4xl mb-3">üî∑</div>
      <div className="text-xl font-black text-slate-900 dark:text-white mb-2">
        Go
      </div>
      <code className="text-sm text-blue-600 dark:text-blue-400 text-xs">
        go get github.com/urbanreflex/go-sdk
      </code>
    </div>
  </div>
</div>

## üì° WebSocket API

<InfoCard type="info" title="Real-time Updates">
  For real-time updates, connect to our WebSocket endpoint for live data
  streaming.
</InfoCard>

```javascript
const ws = new WebSocket("wss://api.urbanreflex.vn/ws");

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log("Real-time update:", data);
};

// Subscribe to weather updates
ws.send(
  JSON.stringify({
    action: "subscribe",
    channel: "weather",
  })
);
```

---

<div className="mt-12 p-8 rounded-3xl bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 border-2 border-blue-200/50 dark:border-blue-800/30">
  <div className="text-center">
    <div className="text-2xl font-black text-slate-900 dark:text-white mb-3">
      Need Help?
    </div>
    <div className="text-slate-600 dark:text-slate-400 mb-6">
      Check our{" "}
      <a
        href="/docs/troubleshooting"
        className="text-blue-600 dark:text-blue-400 font-bold hover:underline"
      >
        troubleshooting guide
      </a>{" "}
      or{" "}
      <a
        href="mailto:support@urbanreflex.vn"
        className="text-blue-600 dark:text-blue-400 font-bold hover:underline"
      >
        contact support
      </a>
    </div>
  </div>
</div>
